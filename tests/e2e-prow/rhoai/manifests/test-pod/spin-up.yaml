apiVersion: v1
kind: Pod
metadata:
  name: test-pod
  namespace: e2e-rhoai-dsc
spec:
  containers:
  - name: test-container
    env:
      - name: E2E_LSC_HOSTNAME
        valueFrom:
          secretKeyRef:
            name: lcs-ip-secret
            key: key
      - name: E2E_LLAMA_HOSTNAME
        valueFrom:
          secretKeyRef:
            name: llama-stack-ip-secret
            key: key
    image: registry.access.redhat.com/ubi9/python-312
    command: ["/bin/sh", "/scripts/run-tests.sh"] 
    volumeMounts:
    - name: script-volume
      mountPath: /scripts
  volumes:
  - name: script-volume
    configMap:
      name: test-script-cm
      defaultMode: 0755 # Make the script executable
  restartPolicy: Never