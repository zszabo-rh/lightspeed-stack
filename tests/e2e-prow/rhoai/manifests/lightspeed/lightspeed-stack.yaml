apiVersion: v1
kind: Pod
metadata:
  name: lightspeed-stack-service
  namespace: e2e-rhoai-dsc
spec:
  containers:
    - name: lightspeed-stack-container
      env:
        - name: E2E_LLAMA_HOSTNAME
          valueFrom:
            secretKeyRef:
              name: llama-stack-ip-secret
              key: key
      image: quay.io/lightspeed-core/lightspeed-stack:dev-latest
      ports:
        - containerPort: 8080
      volumeMounts:
        - name: config
          mountPath: /app-root/lightspeed-stack.yaml
          subPath: lightspeed-stack.yaml
  volumes:
    - name: config
      configMap:
        name: lightspeed-stack-config
